
#parse("report/velocity/header.vm")
#parse("report/velocity/macros.vm")
#parse("report/velocity/summary.logic.vm")

#set($scoreText = "Over 90 is good, between 80-90 is not so good, and below 80 is bad, really bad.")
#set($requestText = "Below 25 is good, between 25-50 is something you should look into and above 50 is bad.")
#set($pageWeightText = "Below 1 mb is ok (but really to large for mobile), between 1-1.5 mb is something you should investigate & heavier is bad.")
#set($documentWeightText = "Below 10 kb is good (gzipped), between 10-15 is ok (but can be better) and above is bad.A small document is good for mobile.")
#set($nrOfJsText = "Two or less is good, up to 4 means you should look into it and more than 4 means you need to fix it.")
#set($nrOfCssText = "One is good, more than five is really bad.")
#set($nrOfCssImageText = "Two is good, above four is bad.")
#set($nrOfImagesText = "25 or less images is OK, below 40 is ok, and above is bad.")
#set($nrOfRequestPrimedText = "Text 2 requests is good, else if not 90% of the request are cached, it is bad")
#set($spofText = "0 pages is good, everyhing else is bad.")
#set($jsSyncInHeadText = "0 is good, 1 or more is bad and not OK.")
#set($spofPerPageText = "Everything above 0 is bad!")



<div class="row">
    <div class="span12">

        <h2>
            $nrOfPages pages analyzed for $document.getRootElement().getAttribute("url").getValue()
        </h2>
        <p>
            Test performed: $document.getRootElement().getAttribute("date").getValue()
        </p>

        <div class="row">
            <div class="span6">
                <div class="alert alert-#scoreType($scoreAverage)">
                     Score (avg)
                    <div class='large'><a href="#" class="alert-#scoreType($scoreAverage)" rel="popover" data-trigger="hover" title="<h4>Score</h4>" data-content="$scoreText">$scoreAverage</a></div>
                </div>

            </div>
            <div class="span6">
                <div class="alert alert-#requestType($requestAverage)">
                    Number of requests (avg)
                    <div class='large'><a href="#" rel="popover" class="alert-#requestType($requestAverage)" data-trigger="hover" title="<h4>The number of requests</h4>" data-content="$requestText">$requestAverage</a></div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="span3">
                <div class="alert alert-#weightType($pageWeightAverage)">
                    Total page weight (avg)
                    <div class='large'><a href="#" rel="popover" class="alert-#weightType($pageWeightAverage)" data-trigger="hover" title="<h4>Page weight</h4>" data-content="$pageWeightText">$pageWeightAverage</a></div>
                </div>
            </div>
            <div class="span3">
                <div class="alert alert-#weightMobileType($totalDocumentWeightAverage)">
                    Document page weight (avg)
                    <div class='large'><a href="#" rel="popover" class="alert-#weightMobileType($totalDocumentWeightAverage)" data-trigger="hover" title="<h4>Document weight</h4>" data-content="$pageWeightText">$totalDocumentWeightAverage</a></div>
                </div>
            </div>
            <div class="span3">
                <div class="alert alert-#jsType($jsAverage)">
                    JS (avg)
                      <div class='large'><a href="#" rel="popover" class="alert-#jsType($jsAverage)" data-trigger="hover" title="<h4>The number of javascripts</h4>" data-content="$nrOfJsText">$jsAverage</a></div>
                </div>
            </div>
            <div class="span3">
                <div class="alert alert-#cssType($cssAverage)">
                    CSS (avg)
                      <div class='large'><a href="#" rel="popover" class="alert-#cssType($cssAverage)" data-trigger="hover" title="<h4>The number of stylesheets</h4>" data-content="$nrOfCssText">$cssAverage</a></div>
                </div>
            </div>

        </div>

        <div class="row">
            <div class="span3">
                <div class="alert alert-#cssImageType($cssImageAverage)">
                    CSS images (avg)
                      <div class='large'><a href="#" rel="popover" class="alert-#cssImageType($cssImageAverage)" data-trigger="hover" title="<h4>The number of stylesheet images</h4>" data-content="$nrOfCssImageText">$cssImageAverage</a></div>
                </div>
            </div>
            <div class="span3">
                <div class="alert alert-#imageType($imageAverage)">
                    Images (avg)
                      <div class='large'><a href="#" rel="popover" class="alert-#imageType($imageAverage)" data-trigger="hover" title="<h4>Nr of images</h4>" data-content="$nrOfImagesText">$imageAverage</a></div>
                </div>
            </div>
            <div class="span3">
                <div class="alert alert-#requestPrimedType($requestAverage $requestPrimedAverage)">
                    Requests primed cache (avg)
                      <div class='large'><a href="#" rel="popover" class="alert-#requestPrimedType($requestAverage $requestPrimedAverage)" data-trigger="hover" title="<h4>The number of requests for a primed cache</h4>" data-content="$nrOfRequestPrimedText">$requestPrimedAverage</a></div>
                </div>
            </div>
            <div class="span3">
                <div class="alert alert-#spofType($totalSpofPages)">
                    Pages with SPOF
                      <div class='large'><a href="#" rel="popover" class="alert-#spofType($totalSpofPages)" data-trigger="hover" title="<h4>The number of pages with the possibility of frontend single point of failure</h4>" data-content="$spofText">$totalSpofPages</a></div>
                </div>
            </div>
        </div>
	
	 <div class="row">
            <div class="span3">
		 <div class="alert alert-#totalJsSyncInHeadType($totalJsSyncInHeadAverage)">
		      JS loaded sync in head (avg)
                    <div class='large'><a href="#" rel="popover" class="alert-#totalJsSyncInHeadType($totalJsSyncInHeadAverage)" data-trigger="hover" title="<h4>Average number of javascripts loaded synchronously inside of the head tag</h4>" data-content="$jsSyncInHeadText">$totalJsSyncInHeadAverage</a></div>	
		  </div>    
	    </div>
	    <div class="span3">
		 <div class="alert alert-#spofType($totalSpofAverage)">
                    SPOF per page
                      <div class='large'><a href="#" rel="popover" class="alert-#spofType($totalSpofAverage)" data-trigger="hover" title="<h4>Number of single point of failures per page</h4>" data-content="$spofPerPageText">$totalSpofAverage</a></div>
            </div>

	    </div>
	    <div class="span3">
          
	    </div>
	</div>    

        <div class="row">
            <div class="span12">
                <h3>Rule definition</h3>
                <p>
                    The rules are simple:
                    <span class="badge badge-success">Green</span>
                    light you don't need to do anything (of course there could still be things you can do to get better perfomance).
                    <span class="badge badge-warning">Yellow</span>
                    means that you should look into this, and guess what,
                    <span class="badge badge-important">red</span>
                    means that something is bad.
                </p>
                <ul>
                    <li> <b><a href="http://sitespeed.io/rules/" target="_blank">Sitespeed</a> score (modified and enhanced Yslow
                            rules)</b>:  
                        $scoreText
                    </li>
                    <li> <b>The number of requests</b>: 
                       $requestText
                    </li>
                    <li>
                        <b>The weight of a page</b>: 
                       $pageWeightText 
                    </li>
                    <li>
                        <b>The document weight</b>: 
                        $documentWeightText
                    </li>
                    <li>
                        <b>The number of javascripts</b>: 
                        $nrOfJsText 
                    </li>
                    <li>
                        <b>The number of stylesheets</b>: 
                        $nrOfCssText 
                    </li>
                    <li>
                        <b>The number of stylesheet images</b>: 
                        $nrOfCssImageText 
                    </li>
                     <li>
                        <b>The number of images</b>: 
                        $nrOfImagesText 
                    </li>
                    <li>
                        <b>The number of requests for a primed cache</b>:
                        $nrOfRequestPrimedText 
                    </li>
                     <li>
                        <b>The number of pages with the possibility of frontend single point of failure</b>: 
                        $spofText
                    </li>
                     <li>
                        <b>Average number of javascripts loaded synchronously inside of the head tag</b>: 
                        $jsSyncInHeadText
                    </li>

                 </ul>
            </div>
        </div>

    </div>
</div>
#parse("report/velocity/footer.vm")

<script>

$(function ()
{ $("a[rel=popover]").popover();
});

</script>

</body>
</html>