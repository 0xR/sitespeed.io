#parse("report/velocity/header.vm")
#parse("report/velocity/date.macros.vm")
#parse("report/velocity/macros.vm")
#parse("report/velocity/summary.logic.vm")

#set ($siteElement = $document.getRootElement())
#set ($metrics = $siteElement.getChild("metrics"))
<div class="row-fluid">
    <div class="span12">

        <h2 class="url">
            $siteElement.getChild("pages").getValue() pages analyzed for
            <a href="$siteElement.getChild("url").getValue()" target="_blank">$siteElement.getChild("url").getValue()</a>
        </h2>
        <p>
            Test performed: $siteElement.getChild("date").getValue() with rules $siteElement.getChild("rules").getValue()
        #if ($siteElement.getChild("userAgent").getValue().getValue() != "")
            with user agent: $siteElement.getChild("userAgent").getValue()
            #end
        #if ($siteElement.getChild("viewPort").getValue() != "")
            viewport: $siteElement.getChild("viewPort").getValue()
            #end
        </p>
    </div>
</div>

<div class="row-fluid">
    <div class="span12">
        <table class="table table-hover table-condensed table-striped table-bordered">
            <thead>
                <tr>
                    <th>name</th>
                    <th>avg</th>
                    <th>median</th>
                    <th>min</th>
                    <th>max</th>
                    <th>sDev</th>
                    <th>95%</th>
                </tr>
            </thead>
            <tbody>
                #foreach ($metric in $metrics.getChildren())
                <tr>
                    <td> <em>$metric.getAttribute("friendlyName").getValue()</em>
                    </td>
                    <td>
                        $math.roundTo($nrOfDecimals,$metric.getChild("avg").getValue())
                    </td>
                    <td>
                        $math.roundTo($nrOfDecimals,$metric.getChild("median").getValue())
                    </td>
                    <td>$metric.getChild("min").getValue()</td>
                    <td>$metric.getChild("max").getValue()</td>
                    <td>
                        $math.roundTo($nrOfDecimals,$metric.getChild("standardDev").getValue())
                    </td>
                    <td>
                        $math.roundTo($nrOfDecimals,$metric.getChild("percentil95").getValue())
                    </td>
                </tr>
                #end
            </tbody>
        </table>
    </div>
</div>
#parse("report/velocity/footer.vm")
</body>
</html>