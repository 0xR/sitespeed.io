extends ./layout.jade

block content
  .row
    .column
      h2 Pages
      table(data-sortable, id='pages')
        thead
          tr
            th url
            th js size (kb)
            th css size (kb)
            th image size (kb)
            th total size (kb)
            th total requests
            th performance score
        each pageInfo, url in pages
            - p = pageInfo.data.pagexray.pageSummary[0]
            - t = p.contentTypes
            tr
                td.url.pagesurl
                    a(href='#{pageInfo.path}/index.html')= url
                td(data-value='#{(t.javascript || {}).transferSize}') #{h.size.asKb((t.javascript || {}).transferSize)}
                td(data-value='#{(t.css || {}).transferSize}') #{h.size.asKb((t.css || {}).transferSize)}
                td(data-value='#{(t.image || {}).transferSize}') #{h.size.asKb((t.image || {}).transferSize)}
                td(data-value='#{p.transferSize}') #{h.size.asKb(p.transferSize)}
                td #{p.requests}
                - score = pageInfo.data.browsertime.page[0].browserScripts[0].coach.coachAdvice.advice.performance.score
                - label = 'label ' +  h.label(score)
                td(data-value='#{score}')
                    span(class=label)  #{score}
